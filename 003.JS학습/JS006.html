<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>Date객체와 Math객체</title>
    <style>
        .time {
            width: 500px;
            padding: 10px;
            text-align: center;
            font-size: 42px;
            color: aqua;
            background-color: #000;
            margin: 0 auto;
        }

        /* 이미지박스 */
        .ibox {
            padding: 50px;
            text-align: center;
        }
    </style>
    <script>
        // 로드구역 ////////////////////////////////////////////
        window.addEventListener("load",()=>{

            // 로딩확인
            // console.log("로딩완료!");

            // 변경대상
            let tt = document.querySelectorAll(".tt");
            // console.log("tt갯수:"+tt.length);

            /*/////////////////////////////////////// 
                함수명 : showTime
                기능 : 오늘날짜 시간 찍기
            *///////////////////////////////////////

            let showTime = ()=>{
                // console.log("시간찍어!");

                /* ▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼

                   [ 날짜 객체로 시간찍기 ]
                     Date객체 : 날짜, 시간을 표현하는 객체
                                - 객체 생성법 : new 키워드 

                                ->> let today = new Date();
                                ->> new Date()를 호출하면, 새로운 Date 객체가 만들어진다.

                    ----------------------------------------------------------------------------------
                    [ 날짜 구성요소 얻기 ]
                      ->> today.getFullYear();
                      ->> 할당해서 쓴다.

                      getFullYear() : 연도(네 자릿수)를 반환
                      getMonth() : 월을 반환(0 이상 11 이하)
                      getDate() : 일을 반환(1 이상 31 이하)
                      getHours() : 시
                      getMinutes() : 분
                      getSeconds() : 초
                      getMilliseconds() : 밀리초
                      getDay() : 요일 반환 (일요일을 나타내는 0부터 토요일을 나타내는 6까지의 숫자 중 하나를 반환)
                      getTime() : 주어진 일시와 1970년 1월 1일 00시 00분 00초 사이의 간격(밀리초 단위)인 타임스탬프를 반환한다.

                    ----------------------------------------------------------------------------------
                    [ 날짜 구성요소 설정 ] :날짜 구성요소 메소드                       
                      setFullYear(year, [month], [date])
                      setMonth(month, [date])
                      setDate(date)
                      setHours(hour, [min], [sec], [ms])
                      setMinutes(min, [sec], [ms])
                      setSeconds(sec, [ms])
                      setMilliseconds(ms)
                      setTime(milliseconds)
 
                   ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲
                */
                let today = new Date(); /* 날짜 객체를 생성, new Date(); */

                // 1. 년도 찍기 -> 할당해서 쓴다.
                tt[0].innerText = today.getFullYear();
                /* 
                    ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
                    getFullYear() : 전체년도 
                    ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
                    참고) getYear()는 1900을 뺀 년도 (2021년 = 2021-1900 => 121 나옴)
                */


                // 2. 월 찍기
                tt[1].innerText = today.getMonth() + 1;
                /* 
                    ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
                    getMonth() : 월 (0시작~11이라서 "+1"한다!)
                    ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
                    ★ 숫자월을 출력하고 싶으면 1을 더하라! ->> + 1
                    ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
                    month는 0(1월)부터 11(12월) 숫자
                    ->> 12개월을 부르는 이름이 나라마다 틀리다.
                    예컨데, 배열에 이름을 담고 매칭함
                    ["Jan","Feb",...]
                */


                // 3. 일 찍기
                tt[2].innerText = today.getDate();
                /* 
                    ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
                    getDate() : 날짜를 리턴함
                    ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
                    일을 반환(1 이상 31 이하).
                */


                // 4. 요일 찍기
                let week = ["일","월","화","수","목","금","토"];
                tt[3].innerText = week[today.getDay()];
                /* 
                    ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
                    getDay() : 요일 번호를 리턴함
                    ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
                    ★ 배열에 해당요일명을 셋팅하여 호출한다!
                    ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
                    0부터 시작하고, 시작요일은 일요일 (서양기반)
                    일요일을 나타내는 0부터, 토요일을 나타내는 6까지의 숫자 중 하나를 반환
                    일주일은 7일로 정해져 있고, 나라마다 부르는 이름이 달라서 숫자로 리턴함
                    
                */


                // 5. 오전/오후
                let noon = "오전";
                // 시간에서 오후일 경우 덮어쓰고, 아래서 출력
                

                // 6. 시간 출력
                //    : 12시간제로 조작하기 
                let H = today.getHours();
                /* 
                    ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
                    getHours() : 24시간제 시간을 리턴함 
                    ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
                    왜 리턴이라 하면 -> getHours() 함수임 값을 갖고 오는것
                */

                /* 12보다 크면 12를 빼고 오후라고 변경*/
                if(H>12) {
                    H=H-12;
                    noon = "오후";
                } ////// if 문 //////

                // 오전/오후 출력
                tt[4].innerText = noon;

                // 시간출력
                tt[5].innerText = addZero(H);


                // 7. 분 출력
                tt[6].innerText = addZero(today.getMinutes());
                /* 
                    ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
                    getMinutes() : 분을 리턴함
                    ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
                */


                // 8. 초 출력
                tt[7].innerText = addZero(today.getSeconds());
                /* 
                    ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
                    getSeconds() : 초를 리턴함
                    ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■
                */



            };////// showTime 함수 //////////////////////////////////////


            /*////////////////////////////////////////////////////////// 
                함수명 : addZero
                기능 : 전달된 숫자가 10미만일 경우 앞에 0을 붙여서 리턴
            *///////////////////////////////////////////////////////////
            let addZero = num=>{

                // 10미만이면 앞에 0을 붙혀준다.
                if(num<10) num = "0"+num;
                // 만약 10이상이면 넘어온 num이 그대로 리턴됨
                // ★ 앞에 0으로 시작하는건, 0은 숫자로 인식 안하고, 문자형으로 사용해야함

                // 호출한 곳으로 리턴한다!
                return num;

            };/////////////// addZero 함수 /////////////////////////////
            ///////////////////////////////////////////////////////////



            // 최초호출
            showTime(); /* 만나자마자 바로 호출되서 바로 나옴 */

            /* 
               [ 시간함수 인터발 호출! ]
                 - setInterval(함수,시간)
                   인터발 함수의 함수는 함수만 호출할 경우 이름만 써도됨
                   시간은 1/1000초(단위없음) 
            */
            setInterval(showTime,1000); /* 1초간격으로 showTime함수 호출해! 라는뜻  */



            /*  ▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼

                [ Math 객체 ]
                  - 수학객체로써 다른 객체와 달리 new 키워드를 쓰지 않고, 바로 사용할 수 있게 설계됨

                  - 이런객체를 "정적객체(static object)" 라고 함
                    -> Array(), Object() 도 정적객체임
                    -> 원래는 new 적어서 써야하는데 안적고 쓸수 있게 해주는게 정적객체다.

                  - 주요 Math 객체의 메서드들

                    Math.min(값들) - 최소값
                    Math.max(값들) - 최대값

                    Math.round(소수점값) - 반올림
                    Math.ceil(소수점값) - 올림
                    Math.floor(소수점값) - 내림

                    Math.abs(양수나 음수) - 절대값(양수) 
                                         - 차이가 얼마가 나냐? ->> 양수로 차이만! 알려줘!
                                           ex) 1 → 4 페이지 이동할때 (차이가 +3)
                                               4 → 1 (차이가 -3)
                                               마이너가 아닌 양수로 차이만 필요할때 씀!

                                               ->> let diff = bseq - sunm;   (변수)
                                                   Math.abs(diff);  (변수 담아서 쓴다)
                    _______________________________________________________________________________

                    Math.random() - 난수발생(0~1 사이 소수점값 17자리 : 점 뒤로 16자리생김)(난수=임의의수)

                ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲
            */

            // 난수발생 시키기
            let rdm = Math.random();
            console.log("난수발생:"+rdm*7)
            console.log("난수발생:"+Math.ceil(rdm*7)); /* 난수발생한걸 올리는것임 -> 소숫점 아래 사라짐 */ /* 7을 곱하니까 ->> 1~7 (내가 원하는 최대수) */
            console.log("난수발생:"+Math.floor(rdm*7)); /* 난수발생한걸 내리는것임 -> 소숫점 아래 사라짐 */ /* 7을 곱하니까 ->> 0~6 */

            /* 

                [ 내가 원하는 난수발생하기 ]
                  1. Math.random() : 먼저 난수를 발생한다!
                  2. Math.random()*최대수 : 1부터 원하는 최대수일 경우 최대수를 곱한다.
                  3. Math.ceil(Math.random()*최대수) : 원하는 범위의 난수를 올림처리한다!

                  ※ 중간범위 수일 경우 시작범위를 
                     1부터 최대수를 구한 후 시작수 만큼 더하면 된다!

                     예) 4~12 사이의 난수를 발생한다면
                         1~9 사이의 난수를 발생 후 3을 더하면 됨!
                         ->> Math.ceil(Math.random()*9)+3 

                         코드리뷰)
                         4~12의 난수 -> 4~12의 갯수는 몇개니? -> 9개다! (12-4 = "8" 니까 진짜로 새보면 9개니까 ->> 뺀수에 "+1" 을 하는것이다!)
                         왜 갯수로 칠까? -> 데이터가 많으면 헷갈리기 때문에 갯수로 파악해서 하는것이다.
                         그럼 최대값이 9번째가 -> 12이기 때문에 ->> 최대값 자리에 "*9"쓰고
                         4부터 시작인데 우리가 방금 위에서 갯수로 쳤기때문에 1이 시작점이니 1에서 -> 4면 얼마를 더해야하죠? ->> +3 을 더하면 4가 되죠? (1+3 = 4) ->> 그래서 뒤에 "+3"쓴다.

                         -> 12-4 = 8 "+1" =>> 9
                         -> 4 = "1 +" 3 =>> 3
                         ->> Math.ceil(Math.random()*9)+3 
                         
                         ex)
                         1024~1345 사이의 난수를 발생한다면?
                         1345-1024 = 321 "+1" =>> 322
                         1024 = "1 +" 1023 =>> 1023
                         ->> Math.ceil(Math.random()*322)+1023


            */
            // 1~7 사이의 난수 만들기
            rdm = Math.ceil(Math.random()*7);
            console.log("1~7사이의 난수:"+rdm)

            // 이미지 변경대상
            let tg = document.querySelector(".ibox img");

            // ★ 이전랜덤수 저장변수
            let temp = 1; // 처음에 1번 이미지가 있으므로! ->> 처음비교이미지 1 (처음에만 1이랑 들어가서 비교하고, 이후부터는 중복되지 않게 아래 temp = num; 기존값에서 비교함!)


            // ★ 1~7 사이의 난수로 이미지를 랜덤하게 나오게 하기
            setInterval(() => {
                // 1. 랜덤수 발생
                let num = Math.ceil(Math.random()*7); /* 위에서 let쓴거 덮어씀 */
                console.log("이미지랜덤수:"+num);

                // 2. 랜덤수 검사 : 이전 번호와 같으면 다시 발생
                //                 while(조건문){코드} ->> 조건문이 true일 동안 코드를 계속 실행함
                while(num === temp){ // 이전수와 같으면
                    num = Math.ceil(Math.random()*7);
                    console.log("새로랜덤:"+num);
                }////////////// while 문 ///////////////
                // while문에 안걸리면 바로 3번으로 감!


                // 3. 이미지 src변경하기
                tg.src = "./images/img"+num+".jpg"

                // 4. 지금 발생시킨 확정된 num을 temp에 저정함
                //    왜? 다음 랜덤 발생시 비교할 이전 랜덤수니까!!!
                //    ▶ temp = 이전 랜덤 수
                //    ▶ num = 1~7
                temp = num;


            }, 2000); /* ->> 2초마다 랜덤으로 바뀜 */////////////// 인터발 함수 ////////////////////


        });/////////// 로드구역 //////////////////////////////
        /////////////////////////////////////////////////////
    </script>
</head>

<body>
    <!-- 시간표시박스 -->
    <div class="time">
        <!-- 년도 -->
        <span class="year tt"></span>.
        <!-- 월 -->
        <span class="month tt"></span>.
        <!-- 일 -->
        <span class="date tt"></span>
        <!-- 요일 -->
        (<span class="day tt"></span>) <br>
        <!-- 오전/오후 -->
        <span class="noon tt"></span>
        <!-- 시간 -->
        <span class="hour tt"></span> :
        <!-- 분 -->
        <span class="minute tt"></span> :
        <!-- 초 -->
        <span class="second tt"></span>
    </div>

    <!-- 이미지박스 -->
    <div class="ibox">
        <img src="./images/img1.jpg" alt="이미지">
    </div>

</body>

</html>