<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS 제어문 - if문, switch case문, for문, while문</title>
    <script>
        /* 인터널 스크립트 */

        // 함수는 호출시에만 실행되는 코드 저장소!

        /*//////////////////////////////////////////////////
            함수명: jumsu
            기능: 평가점수를 평가결과로 환산하여 출력함
        */ //////////////////////////////////////////////////
        function jumsu() {

            // 1. 함수 호출확인!
            console.log("점수환산!");
            // 브라우저 F12 콘솔창에서 확인한다!


            // 2. 대상선정
            // 2-1. 점수 가져올 대상!: #jumsu
            var jum = document.getElementById("jumsu");


            // 2-2. 입력된 숫자 읽어오기
            var score = jum.value;
            // value는 값을 읽어오는 속성
            console.log("입력값:" + score);


            // 2-3. 출력 대상
            var jexp = document.querySelector("#jexp");

            // 2-4. 칭찬스티커대상
            var jshow = document.querySelector("#jshow");



            // 2-5. 입력값 걸러내기
            // 2.5-1. 숫자 아니면 나가!
            // is not a Number? ->> 숫자가 아니니?
            // 숫자가 아니면 true

            // ★ JS 숫자여부 판별 내장함수 -> isNaN()
            // ->> 사용법: isNaN(값) -> 숫자가 아니면 true
            console.log("숫자가 아니니?" + isNaN(score));
            if (isNaN(score)) {
                /* 숫자가 아닐때 */

                // 1. 메시지 출력
                jexp.innerText = "숫자를 입력하세요!"; /* 지금은 안보임 나가서 아래것이 보이기 때문 -> return; 씀! */

                // 2. 글자색 검정 (바꿔있을 수 있으므로)
                jexp.style.color = "#000";

                // 3. 칭찬스티커 원위치 (나왔을 수 있으므로)
                jshow.style.backgroundPosition = "322px 0";

                // 4. 입력창 내용 지우기(input창 초기화)
                jum.value = "";

                // 5. 입력창에 포커스 주기(다시 커서 자동으로 찍히게)
                //    focus() - 선택요소에 포커스를 주는 JS내장함수
                jum.focus();

                // if문에 들어왔다면 여기서 함수실행을 끝내야함!
                // 여기서 끝낼때 쓰는 키워드는?
                // 돌아가! -> return

                return;
                // return 키워드
                // 뒤에 값을 쓰면 호출 곳으로 값을 가지고 나간다~! 
                // 함수편에서 자세히!

            } /// if ///



            // 2.5-2. 0미만 또는 100초과 일때 걸러냄!
            /* if와 else if는 다르다. */
            else if (score < 0 || score > 100) { /* if와 else if는 다르다. */
                
                // 1. 메시지 출력
                jexp.innerText = "0이상 100이하의 숫자만 입력하세요.";

                // 2. 글자색 검정 
                jexp.style.color = "#000";

                // 3. 칭찬스티커 원위치 (나왔을 수 있으므로)
                jshow.style.backgroundPosition = "322px 0";

                // 4. 입력창 내용 지우기(input창 초기화)
                jum.value = "";

                // 5. 입력창에 포커스 주기(다시 커서 자동으로 찍히게)
                //    focus() - 선택요소에 포커스를 주는 JS내장함수
                jum.focus();

                // if문에 들어왔다면 여기서 함수실행을 끝내야함!
                // 여기서 끝낼때 쓰는 키워드는?
                // 돌아가! -> return

                return;
                // return 키워드
                // 뒤에 값을 쓰면 호출 곳으로 값을 가지고 나간다~! 
                // 함수편에서 자세히!
            }




            // 3. 점수 환산하기!
            /* 
                기준
                90점 이상 - "매우잘함", 80점이상 - "잘함"
                70점 이상 -  "보통", 60점이상 - "노력요함"
                60점 미만 - "재시험"            
            */

            // 결과변수 - 선언만 하고, 할당은 if문에서~!
            var res; /* 선언만 하고, 할당을 분리할 수 있다. (할당은 아래서함) */

            // 색상변수
            var fc; /* 선언만 함 -> 아래서 할당할거임! */

            // 배경위치변수
            var bgp;

            // console.log(score>=90);

            if (score >= 90) {
                /* (score>=90)이게 false이면 그냥 {}안보고 그냥 나감, true여야 들여다봄 */
                res = "매우잘함";
                fc = "blue";
                bgp = "0 0";
            } /// if ///
            else if (score >= 80) { // 80점 이상
                res = "잘함";
                fc = "green";
                bgp = "-322px 0";
            } /// else if ///
            else if (score >= 70) { // 70점 이상
                res = "보통";
                fc = "purple";
                bgp = "-322px -322px";
            } /// else if ///
            else if (score >= 60) { // 60점 이상
                res = "노력요함";
                fc = "orange";
                bgp = "-644px -644px";
            } /// else if ///
            else {
                /* 위에 모든 조건에 해당없을때!!! - else만 쓴다!!! */
                res = "재시험";
                fc = "red";
                bgp = "-322px -644px";
            } /// else ///


            // 결과확인
            console.log("결과:" + res);


            // 4. 결과 메시지를 화면에 출력하기

            // 4-1. 결과 내용 글자넣기
            jexp.innerText = "평가결과는 " +
            res; /* innerText를 넣어서 기존 문구였던 "평가출력"이 문구가 "평가결과는"으로 나옴! +res를 붙혀서 점수에 맞는 문구 나옴! */
            // innerText는 선택요소 내부에 글자데이터를 넣어주는 JS내장속성
            // 비교) innerHTML 는 html태그코드 넣기 속성
            /* += -> 기존 텍스틑 안없애고 기존텍스트 뒤에 붙는다.(대입연산자) 
               ex) jexp.innerText+="평가결과는 " + res; -> 평가출력평가결과는 -> 이렇게 기존값 붙혀서 나옴
            */


            // 4-2. 결과에 따른 글자색 변경하기
            jexp.style.color = fc; /* 위에서 컬러값을 여기에 할당해줌! */

            // 4-3. 결과에 따른 칭찬스티커 변경하기
            jshow.style.backgroundPosition = bgp;






        } ///////////////////// jumsu 함수 /////////////////////
        //////////////////////////////////////////////////////

        /* 
            [ if문 ]
            - 조건문을 검사하여 true이면
              중괄호 안의 코드를 실행하는 제어문
            
            - 조건문이란 결과가 true / false 로 나오는 구문을 말한다.
            
            - 보통 비교연산자나 논리연산자가 사용된다!

            ____________________________________________________________________________


              ->> ★ if(조건){///} : 조건이 참일 때 if문이 실행된다.

              ->> ★ else if(조건){///} : if문 뒤에만 쓸 수 있다. ->> if가 거짓일때 실행됨!!!! 한 번들어가고, 나머지는 안 들어간다. 
                                          (90이상이라 했는데 80이상도 맞으니 사이범위를 설정안하면 전부 다 써야해서 
                                          -> if만 쓰면 조건문이 복잡해짐 -> 그래서 else if가 탄생!)

              ->> ★ else{///} : 혼자 못쓰고, if뒤나 else if뒤에 쓴다. ->> 그밖에란 뜻! (조건에 모두 해당되지 않을때 실행되는 구역) 

            ____________________________________________________________________________
            ↓↓↓↓↓↓↓↓↓ 구문 ↓↓↓↓↓↓↓↓↓ (조건문 세트)
            ____________________________________________________________________________

            if(조건문){
                실행코드
            }
            else if(조건문){
                실행코드
            }
            ...
            ...
            else{
                실행코드
            }
            ____________________________________________________________________________

            (구문해석)
            1. if문은 단독으로 사용가능
            2. else if문을 쓰면 한 조건에 들어가면 다른 if문은 검사하지 않는다!
            3. else문은 조건에 모두 맞지 않을 경우 들어가는 코드구역임!
               ->> else가 필요할때만 사용함!
               ->> if문 없이 else만 단독으로 사용못함

               
            ※ 위의 점수 평가예제에서 if, else if, else 조건문 셋트를 사용한 이유는?
               -> 조건문을 단순하게 상위범위부터 쓰면 간단하기 때문!
               
               만약 개별적으로 if문을 쓰게 되면 각 범위를 설정해야한다!
               예)
               if(score >= 80 && score < 90){
                    실행문
               }
        
        
        */
    </script>
    <style>
        /* 칭찬스티커 */
        #jshow {
            position: absolute;
            top: -13px;
            left: 100px;
            /* 부모는? 보이는 화면 */
            width: 322px;
            height: 322px;

            background: url(./images/ifshow.jpg) no-repeat;
            transform: scale(.3);
            /* 30% 사이즈 줄임! */
            /* 스케일 0.3은 원래크기의 30%크기임! */

            background-position: 322px 0;
            /* 처음에 안보임 - 하나당 322px 단위임! */

            /* 트랜지션: 속시이지 */
            transition: all .4s ease-out;
        }

        /* IR(배경이미지 설명) */
        #jshow span {
            display: block;
            width: 0;
            height: 0;
            overflow: hidden;
        }
    </style>
</head>

<body>
    <h1>JS 제어문</h1>

    <hr>

    <!-- if문 연습 -->
    <h2>if문 연습</h2>
    <h3 id="jexp">평가출력</h3>
    <label for="jumsu">점수입력 : </label> <!-- for="jumsu" 점수로 향하는 것 -->
    <input type="text" id="jumsu" placeholder="점수를 입력하세요!" onkeypress="if(event.keyCode===13){jumsu()};">점
    <!-- onkeypress="if(event.keyCode===13){jumsu()}"   ->   엔터키 치면 바로 넘어가는것!!!
         event.keyCode===13은 엔터키를 말함!
         if문의 명령어가 하나일 경우 중괄호 생략 가능! -> {} 
    -->
     <!-- 
         키코드 참조(아스키코드)
         https://www.w3schools.com/charsets/ref_html_ascii.asp
      -->
    <button class="sbtn" onclick="jumsu()">평가하기</button>

    <!-- 
        모든 요소에는 이벤트 속성을 사용할 수 있다!
        이벤트 속성은 on+이벤트명

        클릭이벤트는 onclick="자바스크립트 영역"
        ->> 따옴표 안은 JS영역이다!

        ->> 함수호출은 함수명() -> 소괄호가 매우 중요하다!!
        ->> 함수명은 대소문자를 철저히 구분한다!
     -->

    <!-- 웹접근성 필수! (한 세트!)
         input 요소 : 입력양식 요소
                      (텍스트, 라디오버튼, 체크박스 등)
                      ->> type="text" 텍스트 입력양식
                      ->> placeholder 속성 : 안내문구출력(글자입력시 사라짐)
                      ->> value 속성 : 미리입력할 글자 넣기 (안지워짐)

         label 요소 : 입력양식 설명요소
                      - for 속성은 연결된 input의 아이디명을 써줌
                        (라벨클릭시 해당요소로 포커스 이동!)

                      - 웹접근성(평등의 원칙) 측면에서
                        라벨은 input요소의 필수로 사용할 것을 권고하고 있다!
                        
                        왜? 
                        : 입력창에 대한 설명으로 리더기가 이것을 읽어줌!
                        : for속성으로 입력창과 연결됨!!!
     -->


    <!-- 점수에 따른 칭찬스티커 -->
    <div id="jshow">
        <span>칭찬스티커</span>
    </div>


</body>

</html>